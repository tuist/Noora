.noora-toaster {
  --toast-gap: 12px;
  --toast-bottom-offset: 20px;
  --toast-side-offset: 20px;
  --toast-width: 356px;
  
  position: fixed;
  z-index: 100;
  pointer-events: none;
  width: var(--toast-width);
  max-width: calc(100vw - (var(--toast-side-offset) * 2));
  margin: 0;
  list-style: none;
  padding: 0;

  &[data-corner="top_left"] {
    top: var(--toast-bottom-offset);
    left: var(--toast-side-offset);
    flex-direction: column;
  }

  &[data-corner="top_center"] {
    top: var(--toast-bottom-offset);
    left: 50%;
    transform: translateX(-50%);
    flex-direction: column;
  }

  &[data-corner="top_right"] {
    top: var(--toast-bottom-offset);
    right: var(--toast-side-offset);
    flex-direction: column;
  }

  &[data-corner="bottom_left"] {
    bottom: var(--toast-bottom-offset);
    left: var(--toast-side-offset);
    flex-direction: column-reverse;
  }

  &[data-corner="bottom_center"] {
    bottom: var(--toast-bottom-offset);
    left: 50%;
    transform: translateX(-50%);
    flex-direction: column-reverse;
  }

  &[data-corner="bottom_right"] {
    bottom: var(--toast-bottom-offset);
    right: var(--toast-side-offset);
    flex-direction: column-reverse;
  }

  .noora-alert {
    pointer-events: auto;
    position: absolute;
    width: 100%;
    border-radius: var(--noora-radius-large);
    border: 1px solid var(--noora-surface-border-secondary);
    transition: all 300ms cubic-bezier(0.32, 0.72, 0, 1), bottom 300ms ease-out, left 300ms ease-out;
    transform-origin: bottom left;
    opacity: 1;
    background: var(--noora-surface-background-primary);

    /* Ensure text content takes available space and button stays on the right */
    & > [data-part="title"] {
      flex: 1;
      min-width: 0;
    }
    
    & > [data-part="column"] {
      flex: 1;
      min-width: 0;
    }

    &[data-entering="true"] {
      animation: toast-enter 300ms cubic-bezier(0.32, 0.72, 0, 1);
    }

    &[data-leaving="true"] {
      animation: toast-exit 200ms cubic-bezier(0.4, 0, 1, 1);
    }

    /* Stacking towards bottom left with offset */
    &:nth-child(1) { 
      bottom: 0; 
      left: 0;
      z-index: 5;
      transform: translateX(0) translateY(0);
    }
    &:nth-child(2) { 
      bottom: calc(100% + var(--toast-gap)); 
      left: 4px;
      z-index: 4;
      transform: translateX(0) translateY(0);
    }
    &:nth-child(3) { 
      bottom: calc(200% + calc(var(--toast-gap) * 2)); 
      left: 8px;
      z-index: 3;
      transform: translateX(0) translateY(0);
    }
    &:nth-child(4) { 
      bottom: calc(300% + calc(var(--toast-gap) * 3)); 
      left: 12px;
      z-index: 2;
      transform: translateX(0) translateY(0);
    }
    &:nth-child(5) { 
      bottom: calc(400% + calc(var(--toast-gap) * 4)); 
      left: 16px;
      z-index: 1;
      transform: translateX(0) translateY(0);
    }
  }


  @media (max-width: 640px) {
    --toast-side-offset: 16px;
    --toast-bottom-offset: 16px;
    --toast-width: calc(100vw - 32px);
    
    &[data-corner*="top"] {
      top: auto;
      bottom: var(--toast-bottom-offset);
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .noora-alert {
      transition: none !important;
      animation: none !important;
    }
  }
}

@keyframes toast-enter {
  from {
    opacity: 0;
    transform: scale(0.9) translateY(100%);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes toast-exit {
  from {
    opacity: 1;
    transform: scale(1) translateX(0) translateY(0);
  }
  to {
    opacity: 0;
    transform: scale(0.9) translateX(-20px) translateY(20px);
  }
}

@media (prefers-reduced-motion: reduce) {
  @keyframes toast-enter {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  @keyframes toast-exit {
    from { opacity: 1; }
    to { opacity: 0; }
  }
}
